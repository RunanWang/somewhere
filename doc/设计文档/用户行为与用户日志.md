## 用户行为

现在定义三种用户行为：

- 查询

  在输入框内输入相应的查询信息。查询信息可以为空。

- 点击

  我们给用户展示了一个列表的产品，用户点击进入并查看了一个商品，这时称之为一个点击事件。

- 购买

  在进入产品详细界面之后，用户可以选择购买这个产品。



一个完整的用户的流程如下：

- 首先用户登录进入界面。
- 然后后端为用户生成相应的推荐信息，前端以列表的方式呈现给用户。
- 用户可以浏览这时的列表，也可以进行查询，查询自己感兴趣的商品。
- 对于列表中用户感兴趣的商品，用户可以选择点击这个商品，进入商品的详情界面。
- 在详情界面中，用户可以选择退出详情界面，也可以选择购买这个商品。
- 完成操作之后用户返回列表，继续浏览或者查询新的商品。



## 用户日志

日志的作用即记录三种用户行为。每一条点击记录会生成一条日志，这条日志中包含了查询和购买的信息，一条日志的格式如下：

| 用户ID           | 商品ID           | 用户信息 | 商品信息 | 查询信息 | is_trade | timestamp      |
| ---------------- | ---------------- | -------- | -------- | -------- | -------- | -------------- |
| asdgfarxaca22131 | asdgfarxaca22131 | ...      | ...      | "水"     | 0        | 23820117412074 |



## 后端分析

后端要有两种生成推荐的方式：

- 一种是在未进行查询的时候对全局数据进行一次推荐，这个部分的数据计算量较大，但是可以进行训练的时间较长，是从用户登录开始到用户转到推荐页面结束。
- 另一种实在客户有查询条件的情况下进行推荐，首先需要满足用户的查询信息，在查询过滤得到的数据中进行一次推荐以及排序。