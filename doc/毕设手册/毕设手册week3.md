## 第3周

### 本周完成情况

首先是对数据集又进行了进一步的处理，这轮处理主要的是将评分信息和movieID和UserID挂上钩，统计了每个movie收到的评分数、收到的评分的平均值、以及每个user评价的总数以及评价的平均值，一共增加了这四个特征。其次在数据集的划分上重新进行了划分，以UserID作为分类依据，按照时间戳进行排序，每个User取前80%作为训练集，后20%作为测试验证集。

其次是对线上验证的调研。经过调研发现，大部分的系统采用了线上计算结果，将结果通过计算转换成广告排序，再将排序的结果返回给客户，由用户进行查阅并将用户的操作作为日志存在日志库中，最后线下根据日志库中的信息对模型进行训练，并更新模型。我们也可以根据这个架构来设计线上验证的部分。

最后是对基础模型LR和LSTM的搭建。这两个模型都采用了keras框架进行搭建，模型的输入训练数据都是上面处理之后增加了特征之后的数据，模型的损失函数分别采用了交叉熵函数和mse函数，经过对比之后发现虽然交叉熵函数下降的很快，但是收敛之后的效果并不如mse函数，所以最终选择了mse函数作为损失函数。优化算法选择了Adam算法。adam可以自动调节学习率，因此有比较好的效果。训练的指标采取了AUC和rmse两个指标。训练次数都是训练了100次，但是结果出现了过拟合的现象，即训练集上各项指标均在上升，但是测试集上指标反而在下降。所以加入了一个l2正则化系数用来抑制过拟合现象，但效果并不明显，还需要更进一步的措施。实验结果显示LR和LSTM在训练集上有近似的结果，在测试集上LR表现更好。

### 遇到的问题

首先是模型遇到了过拟合的问题。经过老师的提示可以看一看关于dropout的相关知识，下一步可以尝试能不能用进模型中。

其次还可能是网络太大而特征过少导致的过拟合，所以可以把方向放在两个方面，一个是适当的缩小网络的大小，调整各层的参数，另一个方向是想办法在数据集上在做文章，获得更大的数据集，做一个数据增强。

其次是对数据集可以做更进一步的处理，因为数据集中还存在一个文本标签的表格并没有运用，并且评分单独作为标签有一些浪费，可以想办法做出一些特征。

### 下周计划

首先解决过拟合的问题。

其次是更进一步熟悉深度学习框架，并搭建出剩下的三个基本模型，并比较他们的指标。



